(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"013f":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[e.showLoginForm?t("b-container",[t("h1",{staticClass:"mt-4"},[e._v("Welcome")]),t("EmailCredentialsForm",{attrs:{"error-message":e.errorMessage,"show-error":e.showError,"show-success":e.showSuccess,"submit-button-label":"Login"},on:{submitForm:e.signInWithEmailAndPassword}}),t("div",{staticClass:"mt-2"},[t("b-link",{on:{click:function(r){return e.togglePasswordReset()}}},[e._v("Forgot Password")])],1),t("h3",{staticClass:"mt-5"},[e._v("New here?")]),t("b-container",{staticClass:"p-0 mt-2"},[t("b-link",{staticClass:"mr-2",on:{click:function(r){return e.toggleForm()}}},[e._v("Create an Account")]),e._v(" / "),t("b-link",{staticClass:"ml-2",on:{click:function(r){return e.signInAnonymously()}}},[e._v("Sign in as guest")])],1),e.showPasswordReset?t("PasswordReset",{on:{close:function(r){return e.togglePasswordReset()}}}):e._e()],1):t("b-container",[t("h1",{staticClass:"mt-4"},[e._v("Get Started")]),t("EmailCredentialsForm",{attrs:{"error-message":e.errorMessage,"show-error":e.showError,"show-success":e.showSuccess,"submit-button-label":"Register"},on:{submitForm:e.signUpWithEmailAndPassword}}),t("div",{staticClass:"mt-2"},[t("b-link",{on:{click:function(r){return e.toggleForm()}}},[e._v("Back to Log In")])],1)],1)],1)},o=[],n=(t("96cf"),t("1da1")),a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"close",on:{click:function(r){return e.$emit("close")}}},[e._v("close")]),t("h3",[e._v("Reset Password")]),e.showSuccess?t("p",[e._v("Success! Check your email for a reset link.")]):t("div",[t("p",[e._v("Enter your email to reset your password")]),t("form",{on:{submit:function(e){e.preventDefault()}}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],attrs:{type:"email",placeholder:"you@email.com"},domProps:{value:e.email},on:{input:function(r){r.target.composing||(e.email=r.target.value.trim())},blur:function(r){return e.$forceUpdate()}}})]),""!==e.errorMsg?t("p",{staticClass:"error"},[e._v(e._s(e.errorMsg))]):e._e(),t("button",{staticClass:"button",on:{click:function(r){return e.resetPassword()}}},[e._v("Reset")])])])])},i=[],c=t("dc59"),u={data:function(){return{email:"",showSuccess:!1,errorMsg:""}},methods:{resetPassword:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.errorMsg="",r.prev=1,r.next=4,c["a"].sendPasswordResetEmail(e.email);case 4:e.showSuccess=!0,r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](1),e.errorMsg=r.t0.message;case 10:case"end":return r.stop()}}),r,null,[[1,7]])})))()}}},l=u,m=t("2877"),w=Object(m["a"])(l,a,i,!1,null,null,null),h=w.exports,d=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-form",{on:{submit:function(r){return r.preventDefault(),e.submitForm()}}},[t("b-alert",{attrs:{variant:"success",show:""},model:{value:e.intShowSuccess,callback:function(r){e.intShowSuccess=r},expression:"intShowSuccess"}},[e._v("Success")]),t("b-alert",{attrs:{variant:"danger",show:""},model:{value:e.intShowError,callback:function(r){e.intShowError=r},expression:"intShowError"}},[e._v(e._s(e.errorMessage))]),t("b-form-group",{staticClass:"mt-4",attrs:{id:"input-group-1",label:"Email address:","label-for":"email1"}},[t("b-form-input",{attrs:{id:"email1",type:"email",required:"",placeholder:"Enter email"},model:{value:e.formData.email,callback:function(r){e.$set(e.formData,"email",r)},expression:"formData.email"}})],1),t("b-form-group",{attrs:{id:"input-group-2",label:"Password:","label-for":"password1"}},[t("b-form-input",{attrs:{id:"password1",type:"password",required:"",placeholder:"******"},model:{value:e.formData.password,callback:function(r){e.$set(e.formData,"password",r)},expression:"formData.password"}})],1),t("b-container",[t("b-row",[t("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v(e._s(e.submitButtonLabel))])],1)],1)],1)},p=[],g=(t("d3b7"),{data:function(){return{formData:{email:"",password:""},intShowSuccess:!1,intShowError:!1}},props:{showSuccess:Boolean,showError:Boolean,errorMessage:String,submitButtonLabel:String},watch:{showSuccess:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.intShowSuccess=r;case 1:case"end":return e.stop()}}),e,this)})));function r(r,t){return e.apply(this,arguments)}return r}(),showError:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(r,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.intShowError=r;case 1:case"end":return e.stop()}}),e,this)})));function r(r,t){return e.apply(this,arguments)}return r}()},methods:{submitForm:function(){var e=this,r=new Promise((function(r){return e.$emit("submitForm",e.formData,r)}));return r.then((function(e){return console.log(e)})),r}}}),f=g,b=Object(m["a"])(f,d,p,!1,null,null,null),v=b.exports,E={components:{PasswordReset:h,EmailCredentialsForm:v},data:function(){return{showLoginForm:!0,showPasswordReset:!1,showSuccess:!1,showError:!1,errorMessage:""}},methods:{toggleForm:function(){this.showLoginForm=!this.showLoginForm,this.showError=!1},togglePasswordReset:function(){this.showPasswordReset=!this.showPasswordReset,this.showError=!1,console.log("showPasswordReset: ",this.showPasswordReset)},signInWithEmailAndPassword:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.showError=!1,t.prev=1,t.next=4,r.$store.dispatch("signInWithEmailAndPassword",{email:e.email,password:e.password});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),t.t0.code?(r.errorMessage=t.t0.message,r.showError=!0):console.log("Login error: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},signUpWithEmailAndPassword:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.showError=!1,t.prev=1,t.next=4,r.$store.dispatch("signUpWithEmailAndPassword",{email:e.email,password:e.password});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),t.t0.code?(r.errorMessage=t.t0.message,r.showError=!0):console.log("Signup error: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},signInAnonymously:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.showError=!1,r.prev=1,r.next=4,e.$store.dispatch("signInAnonymously");case 4:r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](1),r.t0.code?(e.errorMessage=r.t0.message,e.showError=!0):console.log("Signup error: ",r.t0);case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()}}},S=E,k=Object(m["a"])(S,s,o,!1,null,null,null);r["default"]=k.exports}}]);
//# sourceMappingURL=login.4786891a.js.map