{"version":3,"sources":["webpack:///./src/pages/Login.vue?99bb","webpack:///src/pages/Login.vue","webpack:///./src/pages/Login.vue?d106","webpack:///./src/pages/Login.vue","webpack:///./src/components/EmailCredentialsForm.vue?77e2","webpack:///src/components/EmailCredentialsForm.vue","webpack:///./src/components/EmailCredentialsForm.vue?dbbb","webpack:///./src/components/EmailCredentialsForm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","handleResetPassword","ref","$event","stopPropagation","preventDefault","apply","arguments","model","value","callback","$$v","passwordResetEmail","expression","staticClass","_v","errorMessage","showError","showSuccess","signInWithEmailAndPassword","directives","name","rawName","toggleForm","signInAnonymously","signUpWithEmailAndPassword","staticRenderFns","components","EmailCredentialsForm","data","showLoginForm","methods","component","submitForm","intShowSuccess","intShowError","_s","formData","$set","submitButtonLabel","props","Boolean","String","email","password","watch","result","then"],"mappings":"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","file":"js/login.b70ae18f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showLoginForm)?_c('b-container',[_c('b-modal',{attrs:{\"id\":\"modal-location\",\"size\":\"lg\",\"title\":\"Reset password\"},on:{\"ok\":_vm.handleResetPassword}},[_c('form',{ref:\"form\",on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleResetPassword.apply(null, arguments)}}},[_c('b-form-input',{attrs:{\"id\":\"input-password-reset\",\"type\":\"email\",\"placeholder\":\"Your email\",\"required\":\"\"},model:{value:(_vm.passwordResetEmail),callback:function ($$v) {_vm.passwordResetEmail=$$v},expression:\"passwordResetEmail\"}})],1)]),_c('h1',{staticClass:\"mt-4\"},[_vm._v(\"Welcome\")]),_c('EmailCredentialsForm',{attrs:{\"error-message\":_vm.errorMessage,\"show-error\":_vm.showError,\"show-success\":_vm.showSuccess,\"submit-button-label\":\"Login\"},on:{\"submitForm\":_vm.signInWithEmailAndPassword}}),_c('div',{staticClass:\"mt-2\"},[_c('b-link',{directives:[{name:\"b-modal\",rawName:\"v-b-modal\",value:('modal-location'),expression:\"'modal-location'\"}]},[_vm._v(\"Forgot Password\")])],1),_c('h3',{staticClass:\"mt-5\"},[_vm._v(\"New here?\")]),_c('b-container',{staticClass:\"p-0 mt-2\"},[_c('b-link',{staticClass:\"mr-2\",on:{\"click\":function($event){return _vm.toggleForm()}}},[_vm._v(\"Create an Account\")]),_vm._v(\" / \"),_c('b-link',{staticClass:\"ml-2\",on:{\"click\":function($event){return _vm.signInAnonymously()}}},[_vm._v(\"Anonymous Login\")])],1)],1):_c('b-container',[_c('h1',{staticClass:\"mt-4\"},[_vm._v(\"Get Started\")]),_c('EmailCredentialsForm',{attrs:{\"error-message\":_vm.errorMessage,\"show-error\":_vm.showError,\"show-success\":_vm.showSuccess,\"submit-button-label\":\"Register\"},on:{\"submitForm\":_vm.signUpWithEmailAndPassword}}),_c('div',{staticClass:\"mt-2\"},[_c('b-link',{on:{\"click\":function($event){return _vm.toggleForm()}}},[_vm._v(\"Back to Log In\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-container v-if=\"showLoginForm\">\n      <b-modal\n        id=\"modal-location\"\n        size=\"lg\"\n        title=\"Reset password\"\n        @ok=\"handleResetPassword\"\n      >\n        <form ref=\"form\" @submit.stop.prevent=\"handleResetPassword\">\n          <b-form-input\n            id=\"input-password-reset\"\n            v-model=\"passwordResetEmail\"\n            type=\"email\"\n            placeholder=\"Your email\"\n            required\n          >\n          </b-form-input>\n        </form>\n      </b-modal>\n\n      <h1 class=\"mt-4\">Welcome</h1>\n\n      <EmailCredentialsForm\n        :error-message=\"errorMessage\"\n        :show-error=\"showError\"\n        :show-success=\"showSuccess\"\n        submit-button-label=\"Login\"\n        @submitForm=\"signInWithEmailAndPassword\"\n      />\n\n      <div class=\"mt-2\">\n        <b-link v-b-modal=\"'modal-location'\">Forgot Password</b-link>\n      </div>\n\n      <h3 class=\"mt-5\">New here?</h3>\n\n      <b-container class=\"p-0 mt-2\">\n        <b-link class=\"mr-2\" @click=\"toggleForm()\">Create an Account</b-link>\n        /\n        <b-link class=\"ml-2\" @click=\"signInAnonymously()\"\n          >Anonymous Login</b-link\n        >\n      </b-container>\n    </b-container>\n\n    <b-container v-else>\n      <h1 class=\"mt-4\">Get Started</h1>\n\n      <EmailCredentialsForm\n        :error-message=\"errorMessage\"\n        :show-error=\"showError\"\n        :show-success=\"showSuccess\"\n        submit-button-label=\"Register\"\n        @submitForm=\"signUpWithEmailAndPassword\"\n      />\n\n      <div class=\"mt-2\">\n        <b-link @click=\"toggleForm()\">Back to Log In</b-link>\n      </div>\n    </b-container>\n  </div>\n</template>\n\n<script>\nimport EmailCredentialsForm from \"@/components/EmailCredentialsForm\";\nimport { auth } from \"@/firebase\";\n\nexport default {\n  components: {\n    EmailCredentialsForm,\n  },\n  data() {\n    return {\n      showLoginForm: true,\n      passwordResetEmail: \"\",\n      showSuccess: false,\n      showError: false,\n      errorMessage: \"\",\n    };\n  },\n  methods: {\n    toggleForm() {\n      this.showLoginForm = !this.showLoginForm;\n      this.showError = false;\n    },\n    async signInWithEmailAndPassword(formData) {\n      this.showError = false;\n      try {\n        await this.$store.dispatch(\"signInWithEmailAndPassword\", {\n          email: formData.email,\n          password: formData.password,\n        });\n      } catch (error) {\n        if (error.code) {\n          this.errorMessage = error.message;\n          this.showError = true;\n        } else {\n          console.error(\"Login error: \", error);\n        }\n      }\n    },\n    async signUpWithEmailAndPassword(formData) {\n      this.showError = false;\n      try {\n        await this.$store.dispatch(\"signUpWithEmailAndPassword\", {\n          email: formData.email,\n          password: formData.password,\n        });\n      } catch (error) {\n        if (error.code) {\n          this.errorMessage = error.message;\n          this.showError = true;\n        } else {\n          console.error(\"Signup error: \", error);\n        }\n      }\n    },\n    async signInAnonymously() {\n      this.showError = false;\n      try {\n        await this.$store.dispatch(\"signInAnonymously\");\n      } catch (error) {\n        if (error.code) {\n          this.errorMessage = error.message;\n          this.showError = true;\n        } else {\n          console.error(\"Anonymous signup error: \", error);\n        }\n      }\n    },\n    async handleResetPassword() {\n      this.errorMessage = \"\";\n\n      try {\n        await auth.sendPasswordResetEmail(this.email);\n        this.showSuccess = true;\n      } catch (err) {\n        this.showError = true;\n        this.errorMessage = err.message;\n      }\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=0c5b28a7&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitForm()}}},[_c('b-alert',{attrs:{\"variant\":\"success\",\"show\":\"\"},model:{value:(_vm.intShowSuccess),callback:function ($$v) {_vm.intShowSuccess=$$v},expression:\"intShowSuccess\"}},[_vm._v(\"Success\")]),_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":\"\"},model:{value:(_vm.intShowError),callback:function ($$v) {_vm.intShowError=$$v},expression:\"intShowError\"}},[_vm._v(_vm._s(_vm.errorMessage))]),_c('b-form-group',{staticClass:\"mt-4\",attrs:{\"id\":\"input-group-1\",\"label\":\"Email address:\",\"label-for\":\"email1\"}},[_c('b-form-input',{attrs:{\"id\":\"email1\",\"type\":\"email\",\"required\":\"\",\"placeholder\":\"your@email.com\"},model:{value:(_vm.formData.email),callback:function ($$v) {_vm.$set(_vm.formData, \"email\", $$v)},expression:\"formData.email\"}})],1),_c('b-form-group',{attrs:{\"id\":\"input-group-2\",\"label\":\"Password:\",\"label-for\":\"password1\"}},[_c('b-form-input',{attrs:{\"id\":\"password1\",\"type\":\"password\",\"required\":\"\",\"placeholder\":\"******\"},model:{value:(_vm.formData.password),callback:function ($$v) {_vm.$set(_vm.formData, \"password\", $$v)},expression:\"formData.password\"}})],1),_c('b-container',[_c('b-row',[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(_vm._s(_vm.submitButtonLabel))])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-form @submit.prevent=\"submitForm()\">\n    <b-alert v-model=\"intShowSuccess\" variant=\"success\" show>Success</b-alert>\n    <b-alert v-model=\"intShowError\" variant=\"danger\" show>{{\n      errorMessage\n    }}</b-alert>\n\n    <b-form-group\n      id=\"input-group-1\"\n      label=\"Email address:\"\n      label-for=\"email1\"\n      class=\"mt-4\"\n    >\n      <b-form-input\n        id=\"email1\"\n        v-model=\"formData.email\"\n        type=\"email\"\n        required\n        placeholder=\"your@email.com\"\n      >\n      </b-form-input>\n    </b-form-group>\n\n    <b-form-group id=\"input-group-2\" label=\"Password:\" label-for=\"password1\">\n      <b-form-input\n        id=\"password1\"\n        v-model=\"formData.password\"\n        type=\"password\"\n        required\n        placeholder=\"******\"\n      >\n      </b-form-input>\n    </b-form-group>\n    <b-container>\n      <b-row>\n        <b-button type=\"submit\" variant=\"primary\">{{\n          submitButtonLabel\n        }}</b-button>\n      </b-row>\n    </b-container>\n  </b-form>\n</template>\n\n<script>\nexport default {\n  props: {\n    showSuccess: Boolean,\n    showError: Boolean,\n    errorMessage: String,\n    submitButtonLabel: String,\n  },\n  data() {\n    return {\n      formData: {\n        email: \"\",\n        password: \"\",\n      },\n      intShowSuccess: false,\n      intShowError: false,\n    };\n  },\n  watch: {\n    showSuccess: async function(newValue, oldValue) {\n      this.intShowSuccess = newValue;\n    },\n    showError: async function(newValue, oldValue) {\n      this.intShowError = newValue;\n    },\n  },\n  methods: {\n    submitForm() {\n      let result = new Promise(resolve =>\n        this.$emit(\"submitForm\", this.formData, resolve)\n      );\n      result.then(value => console.log(value));\n      return result;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailCredentialsForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailCredentialsForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmailCredentialsForm.vue?vue&type=template&id=2519368d&\"\nimport script from \"./EmailCredentialsForm.vue?vue&type=script&lang=js&\"\nexport * from \"./EmailCredentialsForm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}