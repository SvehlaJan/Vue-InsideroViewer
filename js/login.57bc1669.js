(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"013f":function(r,e,t){"use strict";t.r(e);var s=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("div",[r.showLoginForm?t("b-container",[t("b-modal",{attrs:{id:"modal-location",size:"lg",title:"Reset password"},on:{ok:r.handleResetPassword}},[t("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),r.handleResetPassword(e)}}},[t("b-form-input",{attrs:{id:"input-password-reset",type:"email",placeholder:"Your email",required:""},model:{value:r.passwordResetEmail,callback:function(e){r.passwordResetEmail=e},expression:"passwordResetEmail"}})],1)]),t("h1",{staticClass:"mt-4"},[r._v("Welcome")]),t("EmailCredentialsForm",{attrs:{"error-message":r.errorMessage,"show-error":r.showError,"show-success":r.showSuccess,"submit-button-label":"Login"},on:{submitForm:r.signInWithEmailAndPassword}}),t("div",{staticClass:"mt-2"},[t("b-link",{directives:[{name:"b-modal",rawName:"v-b-modal",value:"modal-location",expression:"'modal-location'"}]},[r._v("Forgot Password")])],1),t("h3",{staticClass:"mt-5"},[r._v("New here?")]),t("b-container",{staticClass:"p-0 mt-2"},[t("b-link",{staticClass:"mr-2",on:{click:function(e){return r.toggleForm()}}},[r._v("Create an Account")]),r._v(" / "),t("b-link",{staticClass:"ml-2",on:{click:function(e){return r.signInAnonymously()}}},[r._v("Anonymous Login")])],1)],1):t("b-container",[t("h1",{staticClass:"mt-4"},[r._v("Get Started")]),t("EmailCredentialsForm",{attrs:{"error-message":r.errorMessage,"show-error":r.showError,"show-success":r.showSuccess,"submit-button-label":"Register"},on:{submitForm:r.signUpWithEmailAndPassword}}),t("div",{staticClass:"mt-2"},[t("b-link",{on:{click:function(e){return r.toggleForm()}}},[r._v("Back to Log In")])],1)],1)],1)},o=[],n=(t("96cf"),t("1da1")),a=t("28a1"),i=t("dc59"),c={components:{EmailCredentialsForm:a["a"]},data:function(){return{showLoginForm:!0,passwordResetEmail:"",showSuccess:!1,showError:!1,errorMessage:""}},methods:{toggleForm:function(){this.showLoginForm=!this.showLoginForm,this.showError=!1},signInWithEmailAndPassword:function(r){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showError=!1,t.prev=1,t.next=4,e.$store.dispatch("signInWithEmailAndPassword",{email:r.email,password:r.password});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),t.t0.code?(e.errorMessage=t.t0.message,e.showError=!0):console.error("Login error: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},signUpWithEmailAndPassword:function(r){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showError=!1,t.prev=1,t.next=4,e.$store.dispatch("signUpWithEmailAndPassword",{email:r.email,password:r.password});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),t.t0.code?(e.errorMessage=t.t0.message,e.showError=!0):console.error("Signup error: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})))()},signInAnonymously:function(){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.showError=!1,e.prev=1,e.next=4,r.$store.dispatch("signInAnonymously");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),e.t0.code?(r.errorMessage=e.t0.message,r.showError=!0):console.error("Anonymous signup error: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()},handleResetPassword:function(){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.errorMessage="",e.prev=1,e.next=4,i["a"].sendPasswordResetEmail(r.email);case 4:r.showSuccess=!0,e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](1),r.showError=!0,r.errorMessage=e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))()}}},u=c,l=t("2877"),m=Object(l["a"])(u,s,o,!1,null,null,null);e["default"]=m.exports},"28a1":function(r,e,t){"use strict";var s=function(){var r=this,e=r.$createElement,t=r._self._c||e;return t("b-form",{on:{submit:function(e){return e.preventDefault(),r.submitForm()}}},[t("b-alert",{attrs:{variant:"success",show:""},model:{value:r.intShowSuccess,callback:function(e){r.intShowSuccess=e},expression:"intShowSuccess"}},[r._v("Success")]),t("b-alert",{attrs:{variant:"danger",show:""},model:{value:r.intShowError,callback:function(e){r.intShowError=e},expression:"intShowError"}},[r._v(r._s(r.errorMessage))]),t("b-form-group",{staticClass:"mt-4",attrs:{id:"input-group-1",label:"Email address:","label-for":"email1"}},[t("b-form-input",{attrs:{id:"email1",type:"email",required:"",placeholder:"your@email.com"},model:{value:r.formData.email,callback:function(e){r.$set(r.formData,"email",e)},expression:"formData.email"}})],1),t("b-form-group",{attrs:{id:"input-group-2",label:"Password:","label-for":"password1"}},[t("b-form-input",{attrs:{id:"password1",type:"password",required:"",placeholder:"******"},model:{value:r.formData.password,callback:function(e){r.$set(r.formData,"password",e)},expression:"formData.password"}})],1),t("b-container",[t("b-row",[t("b-button",{attrs:{type:"submit",variant:"primary"}},[r._v(r._s(r.submitButtonLabel))])],1)],1)],1)},o=[],n=(t("d3b7"),t("96cf"),t("1da1")),a={data:function(){return{formData:{email:"",password:""},intShowSuccess:!1,intShowError:!1}},props:{showSuccess:Boolean,showError:Boolean,errorMessage:String,submitButtonLabel:String},watch:{showSuccess:function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(e,t){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:this.intShowSuccess=e;case 1:case"end":return r.stop()}}),r,this)})));function e(e,t){return r.apply(this,arguments)}return e}(),showError:function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(e,t){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:this.intShowError=e;case 1:case"end":return r.stop()}}),r,this)})));function e(e,t){return r.apply(this,arguments)}return e}()},methods:{submitForm:function(){var r=this,e=new Promise((function(e){return r.$emit("submitForm",r.formData,e)}));return e.then((function(r){return console.log(r)})),e}}},i=a,c=t("2877"),u=Object(c["a"])(i,s,o,!1,null,null,null);e["a"]=u.exports}}]);
//# sourceMappingURL=login.57bc1669.js.map